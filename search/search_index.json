{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to Python Image Processor","text":""},{"location":"#documentation-contents","title":"Documentation Contents","text":"<ul> <li>Architecture: High-level overview of how the app works.</li> <li>API Reference: Technical documentation for the code.</li> <li>Roadmap: Future plans.</li> <li>Overview: Project Overview</li> </ul>"},{"location":"ARCHITECTURE/","title":"Architecture","text":""},{"location":"ARCHITECTURE/#architecture-overview","title":"Architecture Overview","text":""},{"location":"ARCHITECTURE/#gui-application-apppy","title":"GUI Application (<code>app.py</code>)","text":"<ul> <li><code>ImageProcessorApp</code>: Main Tkinter application class with modern dark theme (sv_ttk)</li> <li>Folder selection: Browse for input and output directories</li> <li>Processing options: Checkboxes and controls for all image processing features</li> <li>Real-time logging: Text widget displays processing progress and status</li> <li>Threading: Prevents UI freezing during long operations</li> <li>Progress indication: Progress bar shows processing status</li> </ul>"},{"location":"ARCHITECTURE/#core-processing-functions-image_processorpy","title":"Core Processing Functions (<code>image_processor.py</code>)","text":"<ul> <li><code>crop_image()</code>: Crops images to specific aspect ratios (e.g., 16:9, 1:1) from the center</li> <li><code>add_watermark()</code>: Applies transparent text watermarks to images with customizable font size and opacity</li> <li><code>process_images()</code>: Main batch processing function that handles cropping, resizing, format conversion, compression, and watermarking</li> <li>Logger parameter: Supports both CLI (print) and GUI (custom logger) output</li> <li>Error handling: Graceful handling of corrupt images and invalid file types</li> </ul>"},{"location":"ARCHITECTURE/#image-processing-pipeline","title":"Image Processing Pipeline","text":"<ol> <li>Input validation: Checks directory existence and file types</li> <li>Image loading: Uses PIL to open and validate images</li> <li>Processing: Applies transformations in order (crop \u2192 resize \u2192 watermark \u2192 format conversion with compression)</li> <li>Output: Saves processed images to specified directory with optimized quality settings</li> </ol>"},{"location":"ARCHITECTURE/#supported-formats","title":"Supported Formats","text":"<ul> <li>Input: PNG, JPEG, GIF, BMP, WebP</li> <li>Output: All Pillow-supported formats with automatic RGBA\u2192RGB conversion for JPEG</li> </ul>"},{"location":"CONTRIBUTING/","title":"Contributing to Python Image Processor","text":"<p>First off, thank you for considering contributing to Python Image Processor! It's people like you that make the open-source community such an amazing place to learn, inspire, and create.</p>"},{"location":"CONTRIBUTING/#how-can-i-contribute","title":"How Can I Contribute?","text":""},{"location":"CONTRIBUTING/#reporting-bugs","title":"Reporting Bugs","text":"<p>This project uses GitHub Issues to track bugs. If you find a bug, please open a new issue. We have a Bug Report template ready for you to fill out.</p>"},{"location":"CONTRIBUTING/#suggesting-enhancements","title":"Suggesting Enhancements","text":"<p>If you have an idea for a new feature or an improvement to an existing one, please submit a Feature Request using our issue template.</p>"},{"location":"CONTRIBUTING/#pull-requests","title":"Pull Requests","text":"<ol> <li>Fork the repository and clone it locally.</li> <li>Create a branch for your edits. Please use a descriptive name for your branch (e.g., <code>feature/add-user-login</code> or <code>bugfix/memory-leak</code>).</li> <li>Make your changes in your local branch.</li> <li>Submit a Pull Request to the <code>main</code> branch.</li> </ol>"},{"location":"CONTRIBUTING/#development-setup","title":"Development Setup","text":"<p>If you want to run the code locally to test changes, follow these steps:</p> <ol> <li> <p>Clone the repository: <code>bash     git clone https://github.com/KnowOneActual/python-image-processor.git     cd python-image-processor</code></p> </li> <li> <p>Set up your environment:     We recommend using a virtual environment to manage dependencies.     <code>bash     python3 -m venv .venv     source .venv/bin/activate  # On Windows use: .venv\\Scripts\\activate</code></p> </li> <li> <p>Install dependencies: <code>bash     pip install -r requirements.txt</code></p> </li> <li> <p>Run the application:</p> <ul> <li>GUI: <code>python app.py</code></li> <li>CLI: <code>python image_processor.py --help</code></li> </ul> </li> </ol>"},{"location":"CONTRIBUTING/#project-structure","title":"Project Structure","text":"<p>To help you navigate the codebase: * <code>app.py</code>: The main desktop GUI application (Tkinter). * <code>image_processor.py</code>: The core processing logic (cropping, resizing, watermarking). * <code>input_images/</code>: Use this directory for testing your input files. * <code>output_images/</code>: The default location for processed files.</p>"},{"location":"CONTRIBUTING/#coding-standards","title":"Coding Standards","text":"<p>Please adhere to the following standards to keep the codebase consistent:</p> <ul> <li>Indentation: Use 2 spaces for all files (Python, Markdown, etc.).</li> <li>Line Endings: Use Unix-style (LF) line endings.</li> <li>Encoding: UTF-8.</li> <li>Imports: Keep imports organized at the top of the file.</li> </ul>"},{"location":"CONTRIBUTING/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"overview/","title":"Overview","text":""},{"location":"overview/#project-overview","title":"Project Overview","text":"<p>This is a Python-based image processing tool that provides bulk image processing capabilities including resizing, format conversion, and watermarking. The project offers both a command-line interface (CLI) and a desktop GUI application built with Tkinter. The project uses PIL/Pillow for image manipulation.</p>"},{"location":"overview/#key-features","title":"Key Features","text":"<ul> <li>Desktop GUI Application: User-friendly Tkinter interface with real-time logging and threading</li> <li>Command-line Interface: Powerful CLI tool for automation and advanced users</li> <li>Bulk image processing: Process entire directories of images</li> <li>Cropping: Crop images to specific aspect ratios (16:9, 1:1, etc.) from center</li> <li>Resizing: Resize images while maintaining aspect ratio</li> <li>Format conversion: Convert between common image formats (PNG, JPEG, WebP, etc.)</li> <li>Compression quality control: Adjustable quality settings for JPEG and WebP formats (1-100)</li> <li>Watermarking: Add text watermarks with customizable opacity and positioning</li> <li>Error handling: Robust handling of corrupt or invalid image files</li> <li>Responsive UI: Threading keeps the GUI responsive during long processing jobs</li> </ul>"},{"location":"overview/#development-workflow","title":"Development Workflow","text":"<p>This script: 1. Checks for uncommitted changes 2. Prompts for a new branch name 3. Syncs the main branch with remote 4. Creates and switches to the new feature branch</p>"},{"location":"overview/#branch-management","title":"Branch Management","text":"<ul> <li>Main branch: <code>main</code></li> <li>Follow conventional branch naming (e.g., <code>feature/add-user-login</code>, <code>bugfix/memory-leak</code>)</li> <li>Always start new work from an updated main branch</li> </ul>"},{"location":"overview/#project-structure","title":"Project Structure","text":"<ul> <li><code>image_processor.py</code> - Main image processing module with cropping, resizing, watermarking, and batch processing</li> <li><code>app.py</code> - Desktop GUI application built with Tkinter</li> <li><code>requirements.txt</code> - Python dependencies (Pillow, sv_ttk)</li> <li><code>input_images/</code> - Sample input directory for testing</li> <li><code>output_images/</code> - Default output directory for processed images</li> <li><code>.venv/</code> - Python virtual environment (git-ignored)</li> <li><code>src/</code> - Source code directory (legacy, contains empty <code>main</code> file)</li> <li><code>tests/</code> - Test directory (currently empty)</li> <li><code>docs/</code> - Documentation directory (contains GUI screenshot and empty <code>index.md</code>)</li> <li><code>.github/ISSUE_TEMPLATE/</code> - GitHub issue templates for bugs and features</li> <li><code>CHANGELOG.md</code> - Version history and feature additions</li> <li><code>app.spec</code> - PyInstaller specification file (for building executable)</li> <li><code>docs/gui-screenshot.jpg</code> - Screenshot of the GUI application</li> </ul>"},{"location":"overview/#code-standards","title":"Code Standards","text":""},{"location":"overview/#editor-configuration","title":"Editor Configuration","text":"<p>The project uses <code>.editorconfig</code> with the following standards: - Indentation: 2 spaces for all files - Line endings: LF (Unix-style) - Charset: UTF-8 - Trailing whitespace: Trimmed - Final newline: Required</p>"},{"location":"overview/#git-workflow","title":"Git Workflow","text":"<ul> <li>Clean working directory required before starting new features</li> <li>Pull latest changes from <code>origin/main</code> before branching</li> <li>Use descriptive branch names</li> </ul>"},{"location":"reference/","title":"API Reference","text":"<p>This section outlines the core functions available in the <code>image_processor</code> module.</p>"},{"location":"reference/#image_processor","title":"<code>image_processor</code>","text":""},{"location":"reference/#image_processor.process_images","title":"<code>process_images(input_dir, output_dir, new_width=None, new_format=None, watermark_text=None, crop_ratio=None, quality=95, logger=print)</code>","text":"<p>Resizes, converts, watermarks, crops, and compresses all images in a directory.</p> Source code in <code>image_processor.py</code> <pre><code>def process_images(input_dir, output_dir, new_width=None, new_format=None, watermark_text=None, crop_ratio=None, quality=95, logger=print):\n    \"\"\"\n    Resizes, converts, watermarks, crops, and compresses all images in a directory.\n    \"\"\"\n    if not os.path.isdir(input_dir):\n        logger(f\"Error: Input directory '{input_dir}' not found.\")\n        # When called from GUI, we don't want to exit the whole app\n        # sys.exit(1)\n        return\n\n    if not os.path.exists(output_dir):\n        os.makedirs(output_dir)\n        logger(f\"Created directory: {output_dir}\")\n\n    for filename in os.listdir(input_dir):\n        input_path = os.path.join(input_dir, filename)\n        valid_extensions = ('.png', '.jpg', '.jpeg', '.gif', '.bmp', '.webp')\n        if not os.path.isfile(input_path) or not filename.lower().endswith(valid_extensions):\n            logger(f\"Skipped: '{filename}' is not a recognized image file.\")\n            continue\n\n        try:\n            with Image.open(input_path) as img:\n                processed_img = img.copy()\n\n                if crop_ratio:\n                    processed_img = crop_image(processed_img, crop_ratio, logger=logger)\n                    logger(f\"Cropped '{filename}' to {crop_ratio} aspect ratio\")\n\n                if new_width:\n                    width, height = processed_img.size\n                    aspect_ratio = height / width\n                    new_height = int(new_width * aspect_ratio)\n                    processed_img = processed_img.resize((new_width, new_height), Image.Resampling.LANCZOS)\n                    logger(f\"Resized '{filename}' to {new_width}px wide\")\n\n                if watermark_text:\n                    processed_img = add_watermark(processed_img, watermark_text, logger=logger)\n                    logger(f\"Added watermark to '{filename}'\")\n\n                output_filename = filename\n                current_format = new_format if new_format else os.path.splitext(filename)[1][1:].lower()\n\n                if new_format:\n                    base_filename, _ = os.path.splitext(filename)\n                    output_filename = f\"{base_filename}.{new_format.lower()}\"\n\n                output_path = os.path.join(output_dir, output_filename)\n\n                save_options = {}\n                if current_format in ['jpeg', 'jpg', 'webp']:\n                    save_options['quality'] = quality\n                    logger(f\"Set quality for '{filename}' to {quality}\")\n\n                if current_format in ['jpeg', 'jpg']:\n                    if processed_img.mode in (\"RGBA\", \"P\"):\n                        processed_img = processed_img.convert(\"RGB\")\n\n                processed_img.save(output_path, **save_options)\n                logger(f\"Saved processed image to '{output_path}'\")\n\n        except UnidentifiedImageError:\n            logger(f\"Could not process '{filename}'. It may be corrupt or not a valid image file.\")\n        except Exception as e:\n            logger(f\"An unexpected error occurred with '{filename}': {e}\")\n</code></pre>"},{"location":"reference/#image_processor.crop_image","title":"<code>crop_image(image, aspect_ratio_str, logger=print)</code>","text":"<p>Crops an image to a specific aspect ratio from the center.</p> Source code in <code>image_processor.py</code> <pre><code>def crop_image(image, aspect_ratio_str, logger=print):\n    \"\"\"\n    Crops an image to a specific aspect ratio from the center.\n    \"\"\"\n    try:\n        ratio_w, ratio_h = map(int, aspect_ratio_str.split(':'))\n    except ValueError:\n        logger(f\"Invalid aspect ratio format: '{aspect_ratio_str}'. Use format like '16:9'.\")\n        return image\n\n    img_w, img_h = image.size\n    target_ratio = ratio_w / ratio_h\n\n    if (img_w / img_h) &gt; target_ratio:\n        new_h = img_h\n        new_w = int(new_h * target_ratio)\n    else:\n        new_w = img_w\n        new_h = int(new_w / target_ratio)\n\n    left = (img_w - new_w) // 2\n    top = (img_h - new_h) // 2\n    right = (img_w + new_w) // 2\n    bottom = (img_h + new_h) // 2\n\n    return image.crop((left, top, right, bottom))\n</code></pre>"},{"location":"reference/#image_processor.add_watermark","title":"<code>add_watermark(image, text, font_size=36, opacity=128, logger=print)</code>","text":"<p>Adds a text watermark to an image.</p> Source code in <code>image_processor.py</code> <pre><code>def add_watermark(image, text, font_size=36, opacity=128, logger=print):\n    \"\"\"\n    Adds a text watermark to an image.\n    \"\"\"\n    watermark_image = image.copy().convert(\"RGBA\")\n    txt_layer = Image.new(\"RGBA\", watermark_image.size, (255, 255, 255, 0))\n\n    try:\n        font = ImageFont.truetype(\"arial.ttf\", font_size)\n    except IOError:\n        logger(\"Arial font not found. Using default font.\")\n        font = ImageFont.load_default()\n\n    draw = ImageDraw.Draw(txt_layer)\n    image_width, image_height = watermark_image.size\n    margin = 10\n    text_bbox = draw.textbbox((0, 0), text, font=font)\n    text_width = text_bbox[2] - text_bbox[0]\n    text_height = text_bbox[3] - text_bbox[1]\n    position = (image_width - text_width - margin, image_height - text_height - margin)\n    draw.text(position, text, font=font, fill=(255, 255, 255, opacity))\n    return Image.alpha_composite(watermark_image, txt_layer)\n</code></pre>"},{"location":"roadmap/","title":"Roadmap","text":""},{"location":"roadmap/#roadmap","title":"\ud83d\udee3\ufe0f Roadmap","text":""},{"location":"roadmap/#current-state","title":"Current State","text":"<ul> <li>\u2705 Version 1.0.0: Full desktop GUI application with Tkinter (September 2025)</li> <li>\u2705 Core image processing functionality implemented (cropping, resizing, watermarking, format conversion)</li> <li>\u2705 Compression quality control for JPEG and WebP formats (v0.5.0)</li> <li>\u2705 Enhanced help documentation with usage examples and recommended settings</li> <li>\u2705 Virtual environment and dependency management setup</li> <li>\u2705 Command-line interface with argparse</li> <li>\u2705 Desktop GUI with modern dark theme (sv_ttk)</li> <li>\u2705 Real-time processing logs and progress indication</li> <li>\u2705 Threading for responsive UI during batch operations</li> <li>\u2705 Error handling and file validation</li> <li>\u2705 Sample input/output directories for testing</li> <li>\u2705 Version tracking with CHANGELOG.md</li> <li>\u2705 GUI screenshot and documentation</li> <li>\u2705 PyInstaller specification for executable building</li> <li>\ud83d\udd04 No testing framework configured yet</li> <li>\ud83d\udd04 No CI/CD pipeline setup</li> <li>\ud83d\udd04 Code formatting/linting tools not configured</li> </ul>"},{"location":"roadmap/#future-enhancements","title":"Future Enhancements","text":"<ul> <li>Add comprehensive test suite (pytest)</li> <li>Implement structured logging (replace print statements in CLI)</li> <li>Support for additional image effects (blur, brightness, contrast)</li> <li>Configuration file support for both CLI and GUI</li> <li>Standalone executable distribution (using PyInstaller)</li> <li>Drag-and-drop functionality in GUI</li> <li>Batch optimization targeting specific file sizes</li> <li>Advanced filename options (prefixes/suffixes, custom naming patterns)</li> <li>Plugin system for custom image effects</li> <li>Batch processing with individual file progress tracking</li> <li>Multi-threading for faster processing of large batches</li> <li>Adding more advanced filename options (e.g., adding a prefix or suffix).</li> <li>Support for additional image effects (e.g., brightness, contrast).</li> </ul> <p>Please feel free to open an issue or submit a pull request.</p>"}]}